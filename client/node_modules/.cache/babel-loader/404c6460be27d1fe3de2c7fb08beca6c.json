{"ast":null,"code":"var _jsxFileName = \"/home/kai/Downloads/exerciseTwo/client/src/Todo.js\";\nimport React from 'react';\nimport axios from 'axios';\nexport default class Todo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.edit = () => {\n      this.setState({\n        disabled: !this.state.disabled\n      });\n      if (this.state.disabled === false) axios.post('/edit', {\n        done: this.state.done,\n        id: this.state.id,\n        namework: this.state.namework,\n        person: this.state.person,\n        date: this.state.date,\n        time: this.state.time\n      }).then(res => {\n        console.log(res.data);\n        this.props.check(true);\n      }).catch(e => {\n        console.log(\"error:\", e);\n        ;\n      });\n    };\n\n    this.delete = () => {\n      axios.post('/delete', {\n        id: this.state.id\n      }).then(res => {\n        console.log(res.data);\n        this.props.check(true);\n      }).catch(e => {\n        console.log(\"error:\", e);\n      });\n    };\n\n    this.state = {\n      done: this.props.done,\n      id: this.props.key_id,\n      disabled: true,\n      namework: this.props.namework,\n      person: this.props.person,\n      date: this.props.date,\n      time: this.props.time\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.click = this.click.bind(this);\n  }\n\n  edits() {\n    var n = new Date();\n    console.log(n);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    console.log(name);\n    var partialState = {};\n    partialState[name] = event.target.value;\n    this.setState(partialState);\n  }\n\n  click() {\n    this.setState({\n      done: !this.state.done\n    });\n  }\n\n  render() {\n    var myclass = 'active';\n    const a = this.state.date + this.state.time * 60 * 60 * 1000 - this.props.timenow;\n\n    if (this.state.done === true) {\n      myclass = 'done';\n    } else if (this.props.timenow) if (a <= 0) {\n      myclass = 'end';\n    } else {\n      myclass = 'active';\n    }\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      id: this.state.id,\n      className: myclass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      defaultChecked: this.state.done,\n      disabled: this.state.disabled ? \"disabled\" : \"\",\n      onClick: this.click,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 3\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"namework\",\n      value: this.state.namework,\n      disabled: this.state.disabled ? \"disabled\" : \"\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 3\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"person\",\n      value: this.state.person,\n      disabled: this.state.disabled ? \"disabled\" : \"\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 3\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"date\",\n      value: new Date(this.state.date),\n      disabled: this.state.disabled ? \"disabled\" : \"\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 3\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"time\",\n      value: this.state.time,\n      disabled: this.state.disabled ? \"disabled\" : \"\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"+\",\n      onClick: this.edit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"x\",\n      onClick: this.delete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/kai/Downloads/exerciseTwo/client/src/Todo.js"],"names":["React","axios","Todo","Component","constructor","props","edit","setState","disabled","state","post","done","id","namework","person","date","time","then","res","console","log","data","check","catch","e","delete","key_id","handleChange","bind","click","edits","n","Date","event","target","name","partialState","value","render","myclass","a","timenow"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nexport default class Todo extends React.Component{\r\n\t constructor(props){\r\n    super(props)\r\n    this.state ={done:this.props.done,id:this.props.key_id,disabled: true,namework:this.props.namework,person:this.props.person,date:this.props.date,time:this.props.time};\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.click = this.click.bind(this);\r\n  }\r\n  edits()\r\n  {\r\n     var n = new Date();\r\n     console.log(n);\r\n     \r\n  }\r\n  \r\n   edit = ()=>{\r\n     \r\n    this.setState( {disabled: !this.state.disabled} )\r\n    if(this.state.disabled === false)\r\n    axios.post('/edit',{done:this.state.done,id:this.state.id,namework:this.state.namework,person:this.state.person,date:this.state.date,time:this.state.time}).then((res)=>{\r\n      console.log(res.data);\r\n      this.props.check(true)\r\n      }).catch(e => {\r\n    console.log(\"error:\",e);\r\n     ;\r\n});\r\n  } \r\n   delete = ()=>\r\n  {     \r\n        \r\n        axios.post('/delete',{id:this.state.id}).then((res)=>{\r\n          console.log(res.data);\r\n          this.props.check(true);\r\n      }).catch(e => {\r\n    console.log(\"error:\",e);\r\n\r\n   });\r\n        \r\n  \r\n  }  \r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    console.log(name);\r\n    var partialState = {};\r\n    partialState[name] = event.target.value;\r\n    this.setState(partialState);\r\n  }\r\n  click(){\r\n    this.setState({done:!this.state.done});\r\n  }\r\n\trender(){\r\n          \r\n           var myclass ='active'; \r\n           const a = this.state.date + this.state.time*60*60*1000 - this.props.timenow;\r\n           if(this.state.done === true){myclass = 'done';} \r\n           else if (this.props.timenow) \r\n           if(a<=0){myclass = 'end';}else{myclass = 'active';}\r\n           \r\n          \r\n        return(\r\n  \r\n  <tr id={this.state.id} className={myclass} >\r\n  <td><input type=\"checkbox\" defaultChecked={this.state.done} disabled ={(this.state.disabled)? \"disabled\" : \"\"}onClick={this.click}/></td>\r\n  <td> <input type=\"text\" name=\"namework\"  value ={this.state.namework}  disabled ={(this.state.disabled)? \"disabled\" : \"\" }onChange={this.handleChange}/></td>\r\n  <td> <input type=\"text\" name=\"person\"  value ={this.state.person}  disabled ={(this.state.disabled)? \"disabled\" : \"\"}onChange={this.handleChange}/></td>\r\n  <td> <input type=\"text\" name=\"date\"  value ={new Date(this.state.date)}  disabled ={(this.state.disabled)? \"disabled\" : \"\"}onChange={this.handleChange}/></td>\r\n  <td> <input type=\"text\" name=\"time\"  value ={this.state.time}  disabled ={(this.state.disabled)? \"disabled\" : \"\"}onChange={this.handleChange}/></td>\r\n  <td><input type=\"button\" value=\"+\" onClick={this.edit}/></td> \r\n  <td><input type=\"button\" value=\"x\" onClick={this.delete}/></td>\r\n  </tr>\r\n\r\n          ); \r\n    }\r\n\r\n   \r\n    \r\n    }\r\n  \r\n\t"]},"metadata":{},"sourceType":"module"}